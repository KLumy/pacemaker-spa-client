const dummy = {
  0: {
    0: {
      channel: {
        id: 0,
        title: 'Reviews of Student News',
        detail: 'Wed. 15:00~18:00',
        code: 'XDWQAS1',
      },
      unit: {
        id: 0,
        index: 0,
        title: null,
        isOpened: true,
        document: {
          id: null,
          visible: false,
          title: '',
          body: '',
        },
        paper: {
          isStart: false,
          isEnd: false,
          questions: [],
        },
      },
    },
    1: {
      channel: {
        id: 0,
        title: 'Reviews of Student News',
        detail: 'Wed. 15:00~18:00',
        code: 'XDWQAS1',
      },
      unit: {
        id: 1,
        index: 2,
        title: '2020 Election',
        isOpened: true,
        document: {
          id: '0/0/2020 Election',
          visible: true,
          title: '2020 Election',
          body: `Coronavirus 'going away' Nowhere was the distinction between the two candidates more apparent than in their approach to the pandemic. Asked about his support for more lockdowns if the scientists recommended it, Mr Biden, a Democrat, did not rule it out. But Mr Trump, a Republican, said it was wrong to inflict further damage on the economy because of an infection from which most people recover. "This is a massive country with a massive economy," said the president. "People are losing their jobs, they're committing suicide. There's depression, alcohol, drugs at a level nobody's ever seen before." media captionPresidential debate: Trump and Biden clash on Covid response Mr Trump, 74, declared that the virus was "going away" and that a vaccine would be ready by the end of the year, while Mr Biden warned the nation was heading towards "a dark winter". The president said: "We're learning to live with it." Mr Biden, 77, countered: "Come on. We're dying with it." Mr Biden laid blame for the 220,000-plus American deaths as a consequence of the pandemic at Mr Trump's door. "Anyone who's responsible for that many deaths should not remain president of the United States of America," he said.`,
        },
        paper: {
          isStart: true,
          isEnd: true,
          questions: [
            {
              answer: 'mosquitoes',
              answer_set: 'plan/mosquitoes/Brazil/GMO',
              id: 'What is being released into the Florida Keys ?',
              quiz: 'What is being released into the Florida Keys ?',
              user_answer: 'plan',
              verified: true,
            },
            {
              answer: 'insects',
              answer_set: 'insects/fever/yellow fever/Zika',
              id:
                'What is being modified to be released into the Florida Keys ?',
              quiz:
                'What is being modified to be released into the Florida Keys ?',
              user_answer: 'fever',
              verified: true,
            },
            {
              answer: 'Florida',
              answer_set: 'female mosquitoes/Florida/cayman/florida keys',
              id:
                'What state is the planned release of genetically modified mosquitoes going to ?',
              quiz:
                'What state is the planned release of genetically modified mosquitoes going to ?',
              user_answer: 'Florida',
              verified: true,
            },
            {
              answer: 'people',
              answer_set: 'female mosquitoes/Keys/people/brazil',
              id: 'Who can only female mosquitoes bite ?',
              quiz: 'Who can only female mosquitoes bite ?',
              user_answer: 'brazil',
              verified: true,
            },
            {
              answer: 'fever',
              answer_set: 'fever/pesticides/company/Zika',
              id: 'What disease can the aedes aegypti mosquito carry ?',
              quiz: 'What disease can the aedes aegypti mosquito carry ?',
              user_answer: 'pesticides',
              verified: true,
            },
            {
              answer: 'aedes aegypti mosquito',
              answer_set: 'Florida/company/aedes aegypti mosquito/florida',
              id:
                'What mosquito can carry dangerous diseases like Zika virus and Dengue fever ?',
              quiz:
                'What mosquito can carry dangerous diseases like Zika virus and Dengue fever ?',
              user_answer: 'Florida',
              verified: true,
            },
          ],
        },
      },
    },
    2: {
      channel: {
        id: 0,
        title: 'Reviews of Student News',
        detail: 'Wed. 15:00~18:00',
        code: 'XDWQAS1',
      },
      unit: {
        id: 2,
        index: 2,
        title: 'Mosquitoes',
        isOpened: true,
        document: {
          id: '0/0/mosquitoes',
          visible: true,
          title: 'How to reduce harmful mosquitoes.',
          body:
            'A controversial plan is moving ahead to release genetically modified mosquitoes into the Florida Keys. More than 750,000 of the insects are set to be introduced there. Why? The aedes aegypti mosquito can carry dangerous diseases like the Zika virus, Dengue fever and yellow fever. Officials are looking for new ways to kill of these insects without using pesticides and genetically modified mosquitoes might be a way to do this. Only female mosquitoes bite people. The altered insects that are set to be released in Florida are male. They`ve been modified so that the female offspring they produce will die before they hatch from their eggs and grow big enough to bite people. And the company that developed these GMO mosquitoes say they`ve been very successful in controlling mosquito populations in Panama, Brazil and the Cayman Islands.',
        },
        paper: {
          isStart: true,
          isEnd: false,
          questions: [
            {
              answer: 'mosquitoes',
              answer_set: 'plan/mosquitoes/Brazil/GMO',
              id: 'What is being released into the Florida Keys ?',
              quiz: 'What is being released into the Florida Keys ?',
              user_answer: '',
              verified: true,
            },
            {
              answer: 'insects',
              answer_set: 'insects/fever/yellow fever/Zika',
              id:
                'What is being modified to be released into the Florida Keys ?',
              quiz:
                'What is being modified to be released into the Florida Keys ?',
              user_answer: '',
              verified: true,
            },
            {
              answer: 'Florida',
              answer_set: 'female mosquitoes/Florida/cayman/florida keys',
              id:
                'What state is the planned release of genetically modified mosquitoes going to ?',
              quiz:
                'What state is the planned release of genetically modified mosquitoes going to ?',
              user_answer: '',
              verified: true,
            },
            {
              answer: 'people',
              answer_set: 'female mosquitoes/Keys/people/brazil',
              id: 'Who can only female mosquitoes bite ?',
              quiz: 'Who can only female mosquitoes bite ?',
              user_answer: '',
              verified: true,
            },
            {
              answer: 'fever',
              answer_set: 'fever/pesticides/company/Zika',
              id: 'What disease can the aedes aegypti mosquito carry ?',
              quiz: 'What disease can the aedes aegypti mosquito carry ?',
              user_answer: '',
              verified: true,
            },
            {
              answer: 'aedes aegypti mosquito',
              answer_set: 'Florida/company/aedes aegypti mosquito/florida',
              id:
                'What mosquito can carry dangerous diseases like Zika virus and Dengue fever ?',
              quiz:
                'What mosquito can carry dangerous diseases like Zika virus and Dengue fever ?',
              user_answer: '',
              verified: true,
            },
          ],
        },
      },
    },
  },
  '3SgNy6]r{L': {
    0: {
      channel: {
        id: '3SgNy6]r{L',
        title: 'Study of Genesis',
        detail: 'When ever You Want!',
        code: 'XDWQAS221',
      },
      unit: {
        id: 0,
        index: 0,
        title: 'Genesis',
        isOpened: true,
        document: {
          id: null,
          visible: false,
          title: '',
          body: '',
        },
        paper: {
          isStart: false,
          isEnd: false,
          questions: [],
        },
      },
    },
    1: {
      channel: {
        id: '3SgNy6]r{L',
        title: 'Study of Genesis',
        detail: 'When ever You Want!',
        code: 'XDWQAS221',
      },
      unit: {
        id: 1,
        index: 1,
        title: 'Genesis 1st',
        isOpened: true,
        document: {
          id: '3SgNy6]r{L/1/genesis_1',
          visible: true,
          title: 'The Beginning',
          body: `1 In the beginning God created the heavens and the earth. 2 Now the earth was formless and empty, darkness was over the surface of the deep, and the Spirit of God was hovering over the waters. 3 And God said, “Let there be light,” and there was light. 4 God saw that the light was good, and he separated the light from the darkness. 5 God called the light “day,” and the darkness he called “night.” And there was evening, and there was morning—the first day. 6 And God said, “Let there be a vault between the waters to separate water from water.” 7 So God made the vault and separated the water under the vault from the water above it. And it was so. 8 God called the vault “sky.” And there was evening, and there was morning—the second day. 9 And God said, “Let the water under the sky be gathered to one place, and let dry ground appear.” And it was so. 10 God called the dry ground “land,” and the gathered waters he called “seas.” And God saw that it was good. 
11 Then God said, “Let the land produce vegetation: seed-bearing plants and trees on the land that bear fruit with seed in it, according to their various kinds.” And it was so. 12 The land produced vegetation: plants bearing seed according to their kinds and trees bearing fruit with seed in it according to their kinds. And God saw that it was good. 13 And there was evening, and there was morning—the third day. 14 And God said, “Let there be lights in the vault of the sky to separate the day from the night, and let them serve as signs to mark sacred times, and days and years,  15 and let them be lights in the vault of the sky to give light on the earth.” And it was so. 16 God made two great lights—the greater light to govern the day and the lesser light to govern the night. He also made the stars.  17 God set them in the vault of the sky to give light on the earth,  18 to govern the day and the night, and to separate light from darkness. And God saw that it was good.  19 And there was evening, and there was morning—the fourth day.20 And God said, “Let the water teem with living creatures, and let birds fly above the earth across the vault of the sky.”
21 So God created the great creatures of the sea and every living thing with which the water teems and that moves about in it, according to their kinds, and every winged bird according to its kind. And God saw that it was good.  22 God blessed them and said, “Be fruitful and increase in number and fill the water in the seas, and let the birds increase on the earth.”  23 And there was evening, and there was morning—the fifth day. 24 And God said, “Let the land produce living creatures according to their kinds: the livestock, the creatures that move along the ground, and the wild animals, each according to its kind.” And it was so.  25 God made the wild animals according to their kinds, the livestock according to their kinds, and all the creatures that move along the ground according to their kinds. And God saw that it was good.
26 Then God said, “Let us make mankind in our image, in our likeness, so that they may rule over the fish in the sea and the birds in the sky, over the livestock and all the wild animals,[a] and over all the creatures that move along the ground.” 27 So God created mankind in his own image, in the image of God he created them; male and female he created them. 28 God blessed them and said to them, “Be fruitful and increase in number; fill the earth and subdue it. Rule over the fish in the sea and the birds in the sky and over every living creature that moves on the ground.” 29 Then God said, “I give you every seed-bearing plant on the face of the whole earth and every tree that has fruit with seed in it. They will be yours for food.  30 And to all the beasts of the earth and all the birds in the sky and all the creatures that move along the ground—everything that has the breath of life in it—I give every green plant for food.” And it was so. 31 God saw all that he had made, and it was very good. And there was evening, and there was morning—the sixth day.`,
        },
        paper: {
          isStart: false,
          isEnd: false,
          questions: [],
        },
      },
    },
    2: {
      channel: {
        id: '3SgNy6]r{L',
        title: 'Study of Genesis',
        detail: 'When ever You Want!',
        code: 'XDWQAS221',
      },
      unit: {
        id: 2,
        index: 2,
        title: 'Genesis 2nd',
        isOpened: true,
        document: {
          id: '3SgNy6]r{L/2/genesis_2',
          visible: true,
          title: 'Adam and Eve',
          body: `1 Thus the heavens and the earth were completed in all their vast array. 2 By the seventh day God had finished the work he had been doing; so on the seventh day he rested from all his work. 3 Then God blessed the seventh day and made it holy, because on it he rested from all the work of creating that he had done.4 This is the account of the heavens and the earth when they were created, when the Lord God made the earth and the heavens.5 Now no shrub had yet appeared on the earth[a] and no plant had yet sprung up, for the Lord God had not sent rain on the earth and there was no one to work the ground, 6 but streams[b] came up from the earth and watered the whole surface of the ground. 7 Then the Lord God formed a man[c] from the dust of the ground and breathed into his nostrils the breath of life, and the man became a living being.8 Now the Lord God had planted a garden in the east, in Eden; and there he put the man he had formed. 9 The Lord God made all kinds of trees grow out of the ground—trees that were pleasing to the eye and good for food. In the middle of the garden were the tree of life and the tree of the knowledge of good and evil.10 A river watering the garden flowed from Eden; from there it was separated into four headwaters.
11 The name of the first is the Pishon; it winds through the entire land of Havilah, where there is gold. 12 (The gold of that land is good; aromatic resin[d] and onyx are also there.) 13 The name of the second river is the Gihon; it winds through the entire land of Cush.[e] 14 The name of the third river is the Tigris; it runs along the east side of Ashur. And the fourth river is the Euphrates.15 The Lord God took the man and put him in the Garden of Eden to work it and take care of it. 16 And the Lord God commanded the man, “You are free to eat from any tree in the garden; 17 but you must not eat from the tree of the knowledge of good and evil, for when you eat from it you will certainly die.”18 The Lord God said, “It is not good for the man to be alone. I will make a helper suitable for him.”19 Now the Lord God had formed out of the ground all the wild animals and all the birds in the sky. He brought them to the man to see what he would name them; and whatever the man called each living creature, that was its name. 20 So the man gave names to all the livestock, the birds in the sky and all the wild animals. But for Adam[f] no suitable helper was found.
21 So the Lord God caused the man to fall into a deep sleep; and while he was sleeping, he took one of the man’s ribs[g] and then closed up the place with flesh. 22 Then the Lord God made a woman from the rib[h] he had taken out of the man, and he brought her to the man.23 The man said, “This is now bone of my bones and flesh of my flesh; she shall be called ‘woman,’ for she was taken out of man.”24 That is why a man leaves his father and mother and is united to his wife, and they become one flesh.25 Adam and his wife were both naked, and they felt no shame.`,
        },
        paper: {
          isStart: false,
          isEnd: false,
          questions: [],
        },
      },
    },
  },
};
let testData = {
  '3SgNy6]r{L': {
    id: '3SgNy6]r{L',
    title: 'Study of Genesis',
    detail: 'When ever You Want!',
    leader: 'Lumy Kelvin',
    code: 'XDWQAS221',
    image: 0,
    units: [
      {
        id: 1,
        index: 1,
        title: 'Genesis 1st',
        state: {
          hasDocument: true,
          hasPaper: false,
          startQuiz: false,
          endQuiz: false,
        },
      },
      {
        id: 2,
        index: 2,
        title: 'Genesis 2nd',
        state: {
          hasDocument: true,
          hasPaper: false,
          startQuiz: false,
          endQuiz: false,
        },
      },
      {
        id: 0,
        index: 3,
        title: 'Genesis 3rd',
        state: {
          hasDocument: false,
          hasPaper: false,
          startQuiz: false,
          endQuiz: false,
        },
      },
      {
        id: 0,
        index: 4,
        title: 'Genesis 4th',
        state: {
          hasDocument: false,
          hasPaper: false,
          startQuiz: false,
          endQuiz: false,
        },
      },
      {
        id: 0,
        index: 5,
        title: 'Genesis 5th',
        state: {
          hasDocument: false,
          hasPaper: false,
          startQuiz: false,
          endQuiz: false,
        },
      },
    ],
    runners: [
      'Amelia',
      'Avery',
      'Adela',
      'Bonita',
      'Charlotte',
      'Frances',
      'Erica',
    ],
  },
  0: {
    id: 0,
    title: 'Reviews of Student News',
    detail: 'Wed. 15:00~18:00',
    leader: 'Lumy Kelvin',
    code: 'XDWQAS221',
    image: 7,
    units: [
      {
        id: 1,
        index: 1,
        title: '2020 Election',
        state: {
          hasDocument: true,
          hasPaper: true,
          startQuiz: true,
          endQuiz: true,
        },
      },
      {
        id: 2,
        index: 2,
        title: 'Mosquitoes',
        state: {
          hasDocument: true,
          hasPaper: true,
          startQuiz: true,
          endQuiz: false,
        },
      },
      {
        id: 0,
        index: 3,
        title: 'Food and Drink',
        state: {
          hasDocument: false,
          hasPaper: false,
          startQuiz: false,
          endQuiz: false,
        },
      },
      {
        id: 0,
        index: 4,
        title: 'Architecture',
        state: {
          hasDocument: false,
          hasPaper: false,
          startQuiz: false,
          endQuiz: false,
        },
      },
      {
        id: 0,
        index: 5,
        title: 'Impact Your World',
        state: {
          hasDocument: false,
          hasPaper: false,
          startQuiz: false,
          endQuiz: false,
        },
      },
    ],
    runners: ['AA', 'BB', 'CC', 'DD', 'EE', 'FF', 'GG'],
  },
};

// FIXME: 추후 대체될 것
const sleep = (ms) => new Promise((resolve) => setTimeout(resolve, ms));

/**
 *
 * @param {token, channel, unit} payload
 */
// FIXME: 추후 대체될 것
export const fetch = async (payload) => {
  await sleep(250);

  return new Promise((resolve) =>
    resolve(dummy[payload.channel][payload.unit])
  );
};

let id = 5;
/**
 *
 * @param {token, channel, type, index, title} payload
 */
export const create = async (payload) => {
  await sleep(250);

  testData[payload.channel] = {
    ...testData[payload.channel],
    units: testData[payload.channel].units.concat({
      id: id + 1,
      index: payload.index,
      title: payload.title,
      state: {
        hasDocument: false,
        hasPaper: false,
        startQuiz: false,
        endQuiz: false,
      },
    }),
  };

  return new Promise((resolve) => resolve(testData[payload.channel]));
};

// FIXME: 실제 서버와 통신하는 부분

// export const fetch = async (payload) => {
//   return await axios.post(`~~`, payload)
// }

// export const create = async (payload) => {
//   return await axios.post(`~~`, payload);
// };

// export const edit = async (payload) => {
//   return await axios.post(`~~`, payload);
// };

// export const remove = async (payload) => {
//   return await axios.post(`~~`, payload);
// };

/**
 *
 * @param {token, channel, unit} payload
 */
export const remove = async (payload) => {
  await sleep(250);
  testData[payload.channel] = {
    ...testData[payload.channel],
    units: testData[payload.channel].units.filter((unit) => {
      return unit.id !== payload.unit;
    }),
  };

  return new Promise((resolve) => resolve(testData[payload.channel]));
};

/**
 *
 * @param {token, channel, unit, title} payload
 */
export const edit = async (payload) => {
  await sleep(250);
  testData[payload.channel] = {
    ...testData[payload.channel],
    units: testData[payload.channel].units.map((unit) => {
      if (unit.id === payload.unit)
        return {
          ...unit,
          title: payload.title,
        };
      else return unit;
    }),
  };

  return new Promise((resolve) => resolve(testData[payload.channel]));
};
